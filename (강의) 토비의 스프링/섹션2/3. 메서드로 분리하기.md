- 관심사를 분리하기 위한 방법에는 메서드로 분리하는 방법이 있다.

  ```java
  public class PaymentService {

      public Payment prepare(Long orderId, String currency, BigDecimal foreignCurrencyAmount) throws
          IOException {
          BigDecimal exRate = getExRate(currency);

          BigDecimal convertedAmount = foreignCurrencyAmount.multiply(exRate);
          LocalDateTime validUntil = LocalDateTime.now().plusMinutes(30);

          return new Payment(orderId, currency, foreignCurrencyAmount, exRate, convertedAmount, validUntil);
      }

      private BigDecimal getExRate(String currency) throws IOException {
          URL url = new URL("https://open.er-api.com/v6/latest/" + currency);
          HttpURLConnection connection = (HttpURLConnection)url.openConnection();
          BufferedReader br = new BufferedReader(
              new InputStreamReader(connection.getInputStream()));
          String response = br.lines().collect(Collectors.joining());
          br.close();

          ObjectMapper mapper = new ObjectMapper();
          ExRateData data = mapper.readValue(response, ExRateData.class);
          BigDecimal exRate = data.rates().get("KRW");
          return exRate;
      }
  }
  ```

  하지만 위 코드처럼 메서드로 분리하면 단점이 존재한다.

  나중에 저 코드를 재사용하고자 했을 때 재사용하기 어렵다.

  저 코드는 private으로 만들어진 메서드이기도 하고 나중에 재사용할 때 어떻게 가져다 쓰겠다는 말인가...

  그래서 다음에는 클래스로 분리하는 방법을 볼 것이다.
