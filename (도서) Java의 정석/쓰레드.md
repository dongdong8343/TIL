## 프로세스와 쓰레드

프로세스 - 실행중인 프로그램을 말한다.

쓰레드 - 프로세스 자원을 이용해 실제로 작업하는 하나의 실행 흐름 단위를 말한다.

## 멀티쓰레딩

보통 하나의 쓰레드만 사용하는 것을 싱글 쓰레드라고 한다.

하지만 OS는 멀티 태스킹을 지원하기 때문에 프로세스 단위로 여러 작업을 동시에 실행할 수 있다.

이를 멀티쓰레딩이라고 한다.

멀티쓰레딩의 장점은 다음과 같다.

1. CPU 사용률이 향상한다.

2. 응답성이 올라간다.

3. 자원을 효율적으로 사용할 수 있다.

## 쓰레드의 우선순위

먼저 끝내야 하는 작업을 먼저 끝내는 것이 좋다. 그래서 쓰레드 사이에서도 우선 순위가 존재한다.

쓰레드는 우순순위라는 속성을 가지고 있고 이 값에 따라 쓰레드가 얻는 실행시간이 달라진다.

## 데몬 쓰레드

다른 일반 쓰레드를 돕는 보조적인 역할을 하는 쓰레드를 말한다.

## 쓰레드의 동기화

멀티쓰레드를 사용하면 여러 쓰레드들이 자원에 동시에 접근해서 원치 않는 결과가 발생할 수도 있다.

그래서 나온 개념이 임계영역, 락이다.

공유 데이터를 사용하는 코드 영역을 임계영역이라고 하고 이 영역에 들어가기 위해서는 쓰레드는 락을 소유하고 있어야한다.

이렇게 함으로써 한 쓰레드가 작업을 하고 있을 때 다른 쓰레드가 간섭하는 것을 막을 수 있다.

### synchronized

임계 영역을 설정하는데 사용하는 키워드다.

```java
public synchronized void put(Item x) { ... }
```

### volatile

멀티 코어 프로세서에서는 코어마다 별도의 캐시를 가지고 있다.

값을 읽어올 때 캐시를 이용하기 때문에 서로 가지고 있는 캐시의 데이터가 다를 수 있다.

즉 원하지 않는 값이 나올수도.....

이럴 때 volatile을 붙이면 코어가 변수의 값을 읽어올 때 키시가 아니라 메모리에서 읽어와서 캐시와 메모리간의 값의 불일치가 해결된다.

volatile와 synchronized 블럭과 동일하다.
