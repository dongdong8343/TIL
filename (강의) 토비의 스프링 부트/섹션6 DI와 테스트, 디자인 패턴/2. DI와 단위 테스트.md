앞에서 진행한 테스트는 실제로 서버를 띄워서 Http 요청을 보내서 검증하는 통합 테스트를 했었다.

통합 테스트를 통해 모든 코드가 정상적으로 동작하는지 확인할 수 있었다.

하지만 서버를 띄우고 Http 요청을 보내고 전체적인 동작을 확인해야하기때문에 시간이 오래 걸린다는 단점이 있다.

그래서 컨트롤러 하나, 서비스 하나 이런 식으로 하나만 테스트를 진행하는 단위 테스트가 존재한다.

단위 테스트를 하면 아무래도 하나의 단위만 테스트해서 통합 테스트 보다 빠르다는 장점이 있다.

그럼 테스트를 많이 진행할 수 있다는 장점이 있다.

그런데 의존 관계를 가지고 있는데 어떻게 독립적으로 테스트가 가능한걸까?

stub이란걸 이용해서 테스트에서만 사용되는 오브젝트를 만들어서 테스트가 가능하다.

```java
public class HelloControllerTest {
	@Test
	void helloController() {
		HelloController helloController = new HelloController(name -> name);

		String ret = helloController.hello("test");

		Assertions.assertThat(ret).isEqualTo("test");
	}

	@Test
	void failsHelloController() {
		HelloController helloController = new HelloController(name -> name);

		Assertions.assertThatThrownBy(() -> {
			String ret = helloController.hello(null);
		}).isInstanceOf(IllegalArgumentException.class);

		Assertions.assertThatThrownBy(() -> {
			String ret = helloController.hello("");
		}).isInstanceOf(IllegalArgumentException.class);
	}
}
```

```java
public class HelloServiceTest {
	@Test
	void simpleHelloService() {
		SimpleHelloService simpleHelloService = new SimpleHelloService();

		String res = simpleHelloService.sayHello("Test");

		Assertions.assertThat(res).isEqualTo("hello Test");
	}
}

```
