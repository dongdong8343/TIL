- 섹션 2-5 인터페이스의 도입을 보면 인터페이스를 통해 새로운 클래스를 구현하고 해당 클래스를 사용하게 만들기 위해서는 인터페이스를 의존하는 쪽의 코드가 변경이 발생한다.

- 해결 방법

  - 의존하는 클래스를 다른 클래스로 변경하고 싶다면 Service 쪽의 코드가 변경이 돼야한다. 하지만 Service 클래스는 비즈니스 로직에만 집중하고 싶고 의존하는 클래스가 변경이 된다고 코드를 수정하고 싶지 않다.

    그래서 관계설정 하는 책임을 Client에 넘기려고 한다. 이렇게 하면 Service 쪽은 비즈니스 로직에만 집중할 수 있고 새로운 Provider로 교체할 때 코드 수정을 안해도 된다.

    ````java
        public class PaymentService {

            private final ExRateProvider exRateProvider;

            public PaymentService(ExRateProvider exRateProvider) {
                this.exRateProvider = exRateProvider;
            }

            public Payment prepare(Long orderId, String currency, BigDecimal foreignCurrencyAmount) throws
                IOException {

                BigDecimal exRate = exRateProvider.getExRate(currency);

                BigDecimal convertedAmount = foreignCurrencyAmount.multiply(exRate);
                LocalDateTime validUntil = LocalDateTime.now().plusMinutes(30);

                return new Payment(orderId, currency, foreignCurrencyAmount, exRate, convertedAmount, validUntil);
            }
        }

        public class Client {

            public static void main(String[] args) throws IOException {
                PaymentService paymentService = new PaymentService(new WebApiExRateProvider());
                Payment payment = paymentService.prepare(100L, "USD", BigDecimal.valueOf(50.7));
                System.out.println(payment);
            }

        }
        ```
    ````
