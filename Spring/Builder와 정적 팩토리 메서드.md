### @Builder 패턴과 정적 팩토리 메서드는 언제 사용하는걸까?

@Builder 패턴은 어떤 속성에 어떤 값이 들어가는지 쉽게 파악할 수 있다는 장점이 있고 정적 팩토리 메서드는 속성에 값을 깜빡하고 못넣는 경우를 피할 수 있다는 장점이 있다.

그래서 이 둘을 언제 사용하면 좋을지 감이 잡히지않았다. 내 생각으로는 @Builder 패턴을 사용하면 실수를 해서 값을 깜빡하는 경우도 있다고 생각해서 안전하게 정적 팩토리 메서드만 사용을 해왔었다.

하지만 @Builder 패턴을 사용하면 좀 편리하게 원하는 속성에만 값을 넣을 수 있고 객체를 편하게 생성할 수 있다는 장점이있다.

이번에 한 번 나에게 맞는 패턴을 정하고 싶어서 이렇게 정리한다.

일단 dto를 만들 때는 builder를 사용한다. 불완전한 객체면 안되겠지만 신경을 써서 객체를 생성한다. 하지만 엔티티는 완벽한 객체가 들어가야한다. 왜냐하면 DB와 아주 맞닿아있기 때문이다. 내가 실수해서 불완전한 객체를 DB에 넣는 경우가 발생할 수 있다.

그래서 엔티티에서는 실수를 안하기 위해서 정적 팩토리 메서드를 사용한다. 추가로 @AllArgsConstructor도 안쓴다.

추가로 기본 생성자를 이용해서 setter를 이용해서 객체를 생성할 수도 있는데 이 경우를 막기위해서 @NoArgsConstructor(access = AccessLevel.PROTECTED)도 붙여주고 @Setter는 붙이지 않는다.

정리를 하자면 dto를 만들 때는 builder 사용해도 된다. 하지만 엔티티를 만들 때는 builder가 아니라 정적 팩토리 메서드를 사용하자.
