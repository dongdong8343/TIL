ApplicationRunner 타입의 인터페이스 존재한다.

이걸 구현한 빈을 등록하면 모든 스프링 부트의 초기화 작업 후 이 빈의 run 메서드를 통해서 실행 가능하다.

이걸 구현하는 이유는 초기화 작업, 컨테이너의 어떤 기능을 수행해서 간단하게 뭔가 확인하고 싶을 때 활용할 수 있기 때문이다.

```java

@MySpringBootApplication
public class TobySpringbootApplication {

	@Bean
	ApplicationRunner applicationRunner(Environment env) {
		return args -> {
			String name = env.getProperty("my.name");
			System.out.println(name);
		};
	}

	public static void main(String[] args) {
		SpringApplication.run(TobySpringbootApplication.class, args);
	}

}
```

외부 설정 값을 application.yml, 환경 변수 등에 작성을 하면 우선순위에 따라 값을 수집해서 Environment에 합친다.

그럼 Environment를 통해 값을 가져올 수 있고 값을 통해 자동 구성의 속성을 변경할 수 있다.

```yaml
contextPath=/app
```

```java
@MyAutoConfiguration
@ConditionalMyOnClass("org.apache.catalina.startup.Tomcat")
public class TomcatWebServerConfig {
	@Bean("tomcatWebServerFactory")
	@ConditionalOnMissingBean
	public ServletWebServerFactory servletWebServerFactory(Environment env) {
		TomcatServletWebServerFactory factory = new TomcatServletWebServerFactory();

		factory.setContextPath(env.getProperty("contextPath")); // 모든 서블릿의 매핑 앞에 여기서 설정한 ContextPath가 추가됨

		return factory;
	}
}
```
